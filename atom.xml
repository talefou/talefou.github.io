<?xml version="1.0" encoding="utf-8"?>
<feed xmlns="http://www.w3.org/2005/Atom">
  <title>VayFou的小破站</title>
  
  <subtitle>学习分享|生活记录</subtitle>
  <link href="https://vayfou.cn/atom.xml" rel="self"/>
  
  <link href="https://vayfou.cn/"/>
  <updated>2024-04-26T14:55:04.000Z</updated>
  <id>https://vayfou.cn/</id>
  
  <author>
    <name>VayFou</name>
    
  </author>
  
  <generator uri="https://hexo.io/">Hexo</generator>
  
  <entry>
    <title>本站部署方式记录</title>
    <link href="https://vayfou.cn/d342eda4/"/>
    <id>https://vayfou.cn/d342eda4/</id>
    <published>2024-04-20T15:32:55.000Z</published>
    <updated>2024-04-26T14:55:04.000Z</updated>
    
    <content type="html"><![CDATA[<h2 id="前言"><a href="#前言" class="headerlink" title="前言"></a>前言</h2><p>本站使用了 <a href="https://github.com/">GitHub</a> &#x2F; <a href="https://cloudflare.com/">CloudFlare</a> &#x2F; <a href="https://vercel.com/">Vercel</a> 等服务进行部署，详细结构如下：</p><figure class="highlight shell"><table><tr><td class="code"><pre><span class="line">├── Github      # 代码存储</span><br><span class="line">├── Vercel      # 项目部署</span><br><span class="line">├── CloudFlare  # DNS / CDN</span><br></pre></td></tr></table></figure><h2 id="部署方式"><a href="#部署方式" class="headerlink" title="部署方式"></a>部署方式</h2><h3 id="1-GitHub-存储"><a href="#1-GitHub-存储" class="headerlink" title="1.GitHub 存储"></a>1.GitHub 存储</h3><p>通过将 Hexo 静态文件 <a href="/9d3d3152/#3-%E6%8E%A8%E9%80%81">推送</a> 至 GitHub 代码托管仓库，实现存储。</p><p>命令：</p><figure class="highlight shell"><table><tr><td class="code"><pre><span class="line"><span class="meta prompt_"># </span><span class="language-bash">打开终端，输入：</span></span><br><span class="line">hexo clean &amp;&amp; hexo g &amp;&amp; hexo d</span><br></pre></td></tr></table></figure><h3 id="2-Vercel-项目部署"><a href="#2-Vercel-项目部署" class="headerlink" title="2.Vercel 项目部署"></a>2.Vercel 项目部署</h3><p>将 Vercel 连接 GitHub ，并点击 <code>Add New</code> 新建项目，将代码仓库（上述推送的静态文件仓库）导入 Vercel ，点击 <code>Import</code> 绑定项目。</p><p><img src="/assets/post-img/@d342eda4-1.png" class="lazyload" data-srcset="/assets/post-img/@d342eda4-1.png" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAP///////yH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==" alt="Vercel-Import"></p><p>再点击 <code>Deploy</code> 部署项目。</p><p><img src="/assets/post-img/@d342eda4-2.png" class="lazyload" data-srcset="/assets/post-img/@d342eda4-2.png" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAP///////yH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==" alt="Vercel-Deploy"></p><p>由于 Vercel 分配的子域名 <code>*.vercel.app</code> 被大陆 DNS 污染，所以需绑定自己的域名。</p><h3 id="3-CloudFlare-DNS-CDN"><a href="#3-CloudFlare-DNS-CDN" class="headerlink" title="3.CloudFlare DNS &#x2F; CDN"></a>3.CloudFlare DNS &#x2F; CDN</h3><p>本站域名使用了 CloudFlare 的 DNS 服务器。</p><p><img src="/assets/post-img/@d342eda4-3.png" class="lazyload" data-srcset="/assets/post-img/@d342eda4-3.png" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAP///////yH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==" alt="CloudFlare-Home"></p><p>在域名注册网站把 DNS 服务器 Nameservers 解析到 CloudFlare 。</p><p>打开 <code>DNS</code> - <code>记录</code> ，点击添加记录，将域名按照提示解析到 Vercel ，等待解析完成即可。</p><figure class="highlight txt"><table><tr><td class="code"><pre><span class="line">@ 76.76.21.21</span><br><span class="line">CNAME cname.vercel.com</span><br></pre></td></tr></table></figure><p><img src="/assets/post-img/@d342eda4-5.png" class="lazyload" data-srcset="/assets/post-img/@d342eda4-5.png" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAP///////yH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==" alt="Vercel-DNS"></p><p>为防止大陆 GFW 解析的域名，可以将解析到 Vercel 的 DNS 替换为：</p><figure class="highlight txt"><table><tr><td class="code"><pre><span class="line">@ 76.223.126.88</span><br><span class="line">CNME cname-china.vercel.com</span><br></pre></td></tr></table></figure><p><strong>注：需先将域名解析至 Vercel 提供的默认 DNS 服务器，以防止 SSL 证书配置失败的问题。</strong></p><p><img src="/assets/post-img/@d342eda4-6.png" class="lazyload" data-srcset="/assets/post-img/@d342eda4-6.png" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAP///////yH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==" alt="CloudFlare-DNS"></p><h2 id="网站配置"><a href="#网站配置" class="headerlink" title="网站配置"></a>网站配置</h2><h3 id="1-CDN-加速"><a href="#1-CDN-加速" class="headerlink" title="1.CDN 加速"></a>1.CDN 加速</h3><p>打开 <code>DNS</code> - <code>记录</code> ，打开 <code>橙云</code> 以开启（默认状态应为开启）。</p><figure class="highlight shell"><table><tr><td class="code"><pre><span class="line">PS &gt; ping vayfou.cn</span><br><span class="line"></span><br><span class="line">正在 Ping vayfou.cn [104.21.20.60] 具有 32 字节的数据:</span><br><span class="line">来自 104.21.20.60 的回复: 字节=32 时间=191ms TTL=51</span><br><span class="line">来自 104.21.20.60 的回复: 字节=32 时间=207ms TTL=51</span><br><span class="line">来自 104.21.20.60 的回复: 字节=32 时间=220ms TTL=51</span><br><span class="line">来自 104.21.20.60 的回复: 字节=32 时间=234ms TTL=51</span><br><span class="line"></span><br><span class="line">104.21.20.60 的 Ping 统计信息:</span><br><span class="line">    数据包: 已发送 = 4，已接收 = 4，丢失 = 0 (0% 丢失)，</span><br><span class="line">往返行程的估计时间(以毫秒为单位):</span><br><span class="line">    最短 = 191ms，最长 = 234ms，平均 = 213ms</span><br></pre></td></tr></table></figure><p><strong>注：因 CloudFlare 服务器均不在大陆，所以加速效果也许不会太好，开启后若感觉后速度明显降低，则可暂时进行关闭，继续使用 Vercel 提供的默认 DNS 服务器。</strong></p><h3 id="2-DDOS-防御"><a href="#2-DDOS-防御" class="headerlink" title="2.DDOS 防御"></a>2.DDOS 防御</h3><p>打开 <code>安全性</code> - <code>DDoS</code> ，点击 <code>部署DDoS替代</code> ：</p><p><img src="/assets/post-img/@d342eda4-7.png" class="lazyload" data-srcset="/assets/post-img/@d342eda4-7.png" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAP///////yH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==" alt="CloudFlare-DDos"></p><p>配置如下：</p><figure class="highlight txt"><table><tr><td class="code"><pre><span class="line">替代名称：ddos</span><br><span class="line">规则集操作：阻止</span><br><span class="line">规则集敏感度：高</span><br></pre></td></tr></table></figure><p><img src="/assets/post-img/@d342eda4-8.png" class="lazyload" data-srcset="/assets/post-img/@d342eda4-8.png" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAP///////yH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==" alt="CloudFlare-DDos"></p><h3 id="3-速度限制"><a href="#3-速度限制" class="headerlink" title="3.速度限制"></a>3.速度限制</h3><p>打开 <code>安全性</code> - <code>WAF</code> - <code>速度限制规则</code> ，点击创建规则：</p><p><img src="/assets/post-img/@d342eda4-9.png" class="lazyload" data-srcset="/assets/post-img/@d342eda4-9.png" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAP///////yH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==" alt="CloudFlare-WAF"></p><p>配置如下：</p><figure class="highlight txt"><table><tr><td class="code"><pre><span class="line">速度名称：规则限制</span><br><span class="line"></span><br><span class="line">如果传入请求匹配 ↓</span><br><span class="line">字段：URI路径 ，运算符：包含 ，值：/</span><br><span class="line">注：上述规则可直接编辑表达式：(http.request.uri.path contains &quot;/&quot;)</span><br><span class="line"></span><br><span class="line">当速率超过 ↓</span><br><span class="line">请求：35 ， 期间 10 秒钟</span><br><span class="line"></span><br><span class="line">然后采取措施 ↓</span><br><span class="line">选择操作：阻止 ， 响应类型为：默认 CloudFlare 速度限制响应</span><br><span class="line"></span><br><span class="line">持续时间：10 秒钟</span><br></pre></td></tr></table></figure><h3 id="4-Error-解决"><a href="#4-Error-解决" class="headerlink" title="4.Error 解决"></a>4.Error 解决</h3><p>当访问部署的网站时提示 <code>重定向次数过多</code> 解决方法如下：</p><p>打开 <code>SSL/TLS</code> - <code>概述</code> ， 将加密模式设置为 <code>完全</code> 即可。</p><p><img src="/assets/post-img/@d342eda4-10.png" class="lazyload" data-srcset="/assets/post-img/@d342eda4-10.png" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAP///////yH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==" alt="CloudFlare-SSL/TLS"></p><p>若设置完成后，依然提示，则可暂时将 DNS 的 <code>橙云</code> 关闭。</p><h3 id="5-清除缓存"><a href="#5-清除缓存" class="headerlink" title="5.清除缓存"></a>5.清除缓存</h3><p>上述所有操作完成后，需在 <code>缓存</code> - <code>配置</code> 页面，点击 <code>清除所有内容</code> 以使设置改动生效。</p><h2 id="结语"><a href="#结语" class="headerlink" title="结语"></a>结语</h2><p>完结撒花~🎉</p><p><img src="https://static.vayfou.cn/img/screenshot.png" class="lazyload" data-srcset="https://static.vayfou.cn/img/screenshot.png" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAP///////yH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==" alt="Blog-Home"></p>]]></content>
    
    
    <summary type="html">本站利用 GitHub 存储代码，通过 Vercel 部署项目，并使用 CloudFlare 提供 DNS 和 CDN 服务。通过 CloudFlare 的 CDN 加速 , DDoS 防御、访问限制等功能，优化网站性能和安全性。</summary>
    
    
    
    <category term="博客" scheme="https://vayfou.cn/categories/%E5%8D%9A%E5%AE%A2/"/>
    
    
    <category term="GitHub" scheme="https://vayfou.cn/tags/GitHub/"/>
    
    <category term="Blog" scheme="https://vayfou.cn/tags/Blog/"/>
    
    <category term="CloudFlare" scheme="https://vayfou.cn/tags/CloudFlare/"/>
    
  </entry>
  
  <entry>
    <title>Hexo博客的探索</title>
    <link href="https://vayfou.cn/9d3d3152/"/>
    <id>https://vayfou.cn/9d3d3152/</id>
    <published>2024-04-14T05:47:49.000Z</published>
    <updated>2024-04-27T02:40:41.000Z</updated>
    
    <content type="html"><![CDATA[<h2 id="简介"><a href="#简介" class="headerlink" title="简介"></a>简介</h2><p>Hexo 是一款基于 Node.js 的，快速、简洁且高效的博客框架。具有丰富的主题和插件，具有超快的速度。支持 Markdown 语法，可以方便快捷地编写博客文章。同时支持 node 命令，可以一键部署到 GitHub Pages , Heroku 等其他平台。</p><h2 id="1-环境"><a href="#1-环境" class="headerlink" title="1.环境"></a>1.环境</h2><h3 id="1-1-安装-Node-js-和-npm"><a href="#1-1-安装-Node-js-和-npm" class="headerlink" title="1.1 安装 Node.js 和 npm"></a>1.1 安装 Node.js 和 npm</h3><p>检测是否安装成功：</p><figure class="highlight shell"><table><tr><td class="code"><pre><span class="line"><span class="meta prompt_"># </span><span class="language-bash">打开终端，输入：</span></span><br><span class="line">node -v</span><br><span class="line">npm -v</span><br></pre></td></tr></table></figure><h3 id="1-2-安装-Hexo"><a href="#1-2-安装-Hexo" class="headerlink" title="1.2 安装 Hexo"></a>1.2 安装 Hexo</h3><figure class="highlight shell"><table><tr><td class="code"><pre><span class="line"><span class="meta prompt_"># </span><span class="language-bash">打开终端，输入：</span></span><br><span class="line">npm install -g hexo-cli</span><br></pre></td></tr></table></figure><h2 id="2-开始使用"><a href="#2-开始使用" class="headerlink" title="2.开始使用"></a>2.开始使用</h2><h3 id="2-1-Hexo命令"><a href="#2-1-Hexo命令" class="headerlink" title="2.1 Hexo命令"></a>2.1 Hexo命令</h3><p>官方文档：<a href="https://hexo.io/zh-cn/docs/commands/">命令 | Hexo</a></p><ul><li>初始化 <code>hexo init &amp;&amp; npm install</code></li><li>生成静态文件 <code>hexo g</code></li><li>启动本地服务器 <code>hexo s</code></li><li>清理缓存 <code>hexo clean</code></li><li>部署到远程服务器 <code>hexo d</code><br>Hexo目录结构：<figure class="highlight shell"><table><tr><td class="code"><pre><span class="line">├── _config.yml       # 站点配置文件</span><br><span class="line">├── .gitignore         # Git忽略文件列表</span><br><span class="line">├── node_modules       # Node.js依赖包</span><br><span class="line">├── package.json       # 项目元数据和依赖</span><br><span class="line">├── package-lock.json  # 依赖版本锁定</span><br><span class="line">├── source             # 内容和资源目录</span><br><span class="line">│   ├── _posts          # 博客文章</span><br><span class="line">│   ├── _drafts         # 草稿</span><br><span class="line">│   ├── _pages          # 静态页面</span><br><span class="line">│   └── assets           # 静态资源（图片、样式等）</span><br><span class="line">└── themes              # 主题目录</span><br></pre></td></tr></table></figure></li></ul><h3 id="2-2-1-网站配置"><a href="#2-2-1-网站配置" class="headerlink" title="2.2.1 网站配置"></a>2.2.1 网站配置</h3><p>网站配置文件：<code>_config.yml</code> ，官方文档：<a href="https://hexo.io/zh-cn/docs/configuration/">配置 | Hexo</a></p><h3 id="2-2-2-主题配置"><a href="#2-2-2-主题配置" class="headerlink" title="2.2.2 主题配置"></a>2.2.2 主题配置</h3><ol><li>安装主题，官方收录主题：<a href="https://hexo.io/themes/">主题 | Hexo</a><figure class="highlight shell"><table><tr><td class="code"><pre><span class="line"><span class="meta prompt_"># </span><span class="language-bash">在网站的根目录下，执行：</span></span><br><span class="line">git clone git@github.com:xxxx/xxxx theme/xxxx</span><br></pre></td></tr></table></figure>修改 <code>_config.yml</code> 网站配置文件：</li></ol><figure class="highlight yml"><table><tr><td class="code"><pre><span class="line"><span class="attr">theme:</span> <span class="string">xxxx</span></span><br></pre></td></tr></table></figure><ol start="2"><li>安装插件，官方收录插件：<a href="https://hexo.io/plugins/">插件 | Hexo</a></li></ol><h2 id="3-Git-推送"><a href="#3-Git-推送" class="headerlink" title="3.Git 推送"></a>3.Git 推送</h2><ol><li>安装推送插件<figure class="highlight shell"><table><tr><td class="code"><pre><span class="line"><span class="meta prompt_"># </span><span class="language-bash">打开终端，输入</span></span><br><span class="line">npm install hexo-deployer-git --save</span><br></pre></td></tr></table></figure></li><li>修改 <code>_config.yml</code> 网站配置<figure class="highlight yml"><table><tr><td class="code"><pre><span class="line"><span class="comment"># Deployment</span></span><br><span class="line"><span class="comment">## Docs: https://hexo.io/docs/deployment.html</span></span><br><span class="line"><span class="attr">deploy:</span></span><br><span class="line">  <span class="attr">type:</span> <span class="string">git</span></span><br><span class="line">  <span class="attr">repo:</span> <span class="string">git@github.com:xxxx/xxxxx</span></span><br><span class="line">  <span class="attr">branch:</span> <span class="string">main</span></span><br></pre></td></tr></table></figure></li><li>命令：<figure class="highlight shell"><table><tr><td class="code"><pre><span class="line"><span class="meta prompt_"># </span><span class="language-bash">打开终端，输入：</span></span><br><span class="line">hexo clean &amp;&amp; hexo g &amp;&amp; hexo d</span><br></pre></td></tr></table></figure></li></ol><h2 id="4-进阶玩法"><a href="#4-进阶玩法" class="headerlink" title="4.进阶玩法"></a>4.进阶玩法</h2><p>上述推送方法会将 Hexo 生成的静态文件直接推送至代码仓库中，因此每次更改网站内容时，都需在本地环境进行。</p><p>因 GitHub 等代码托管平台无法直接处理 Hexo 生成的静态文件，所以可将本地 Hexo 根目录文件推送至仓库，并参考 <a href="https://xaoxuu.com/blog/20221126/#GitHub-Actions-%E8%87%AA%E5%8A%A8%E5%8C%96%E9%83%A8%E7%BD%B2">GitHub Actions 自动化部署</a> 完成处理。</p><p><strong>注：上传前若无 <code>.gitignore</code> 文件，则需新建一个以忽略部分内容：</strong></p><figure class="highlight txt"><table><tr><td class="code"><pre><span class="line">.DS_Store</span><br><span class="line">Thumbs.db</span><br><span class="line">db.json</span><br><span class="line">*.log</span><br><span class="line">node_modules/</span><br><span class="line">public/</span><br><span class="line">.deploy*/</span><br></pre></td></tr></table></figure><p>可通过 <a href="https://github.com/codespaces/">GitHub Codespaces</a> &#x2F; <a href="https://www.oplog.cn/qexo/">Qexo</a> &#x2F; <a href="https://hexoplusplus.js.org/">HexoPlusPlus</a> 及其他方式&#x2F;项目完成对 Hexo 的在线编辑。</p><h2 id="5-部署"><a href="#5-部署" class="headerlink" title="5.部署"></a>5.部署</h2><ul><li>GitHub Pages &#x2F; CloudFlare &#x2F; Vercel &#x2F; Netlify</li><li>And so on…<br>可通过 Hexo 生成的静态文件推送至代码仓库，并使用上述或其他部署网站，即可轻松将博客内容发布到网络。<br>因部署网站分配的子域名也许会被大陆 DNS 污染，无法直接访问，所以建议解析自己的域名以实现正常访问。</li></ul>]]></content>
    
    
    <summary type="html">Hexo 是基于 Node.js 的快速博客框架，支持 Markdown 语法和丰富主题插件，可以快速部署到 GitHub Pages 。安装简单，常用命令包括初始化、生成静态文件、部署等。进阶操作包括自动化部署，部署方式包括 Vercel , CloudFlare 等平台。</summary>
    
    
    
    <category term="教程" scheme="https://vayfou.cn/categories/%E6%95%99%E7%A8%8B/"/>
    
    
    <category term="Hexo" scheme="https://vayfou.cn/tags/Hexo/"/>
    
    <category term="GitHub" scheme="https://vayfou.cn/tags/GitHub/"/>
    
  </entry>
  
  <entry>
    <title>博客扬帆起航</title>
    <link href="https://vayfou.cn/af7317c9/"/>
    <id>https://vayfou.cn/af7317c9/</id>
    <published>2024-03-24T08:29:29.000Z</published>
    <updated>2024-03-30T06:56:50.000Z</updated>
    
    <content type="html"><![CDATA[<p>在远去的2022年，我心中那份对于博客世界的狂热悄然萌生，随之而来的是一股不可抑制的探索欲望。经历了无数次的摸索与决断，我最终将我的足迹定格在了 <strong>Hexo</strong> 的世界中。在这一过程中，我遇到了众多的主题，但唯有 <strong>Volantis</strong> 以其独特的魅力，如同璀璨的北斗，指引着我前行的方向。</p><p>几个月的时间里，我将每一份热忱与精力投入到了这片数字乐土的构建之中。直到2022年的十月，我终于完成了这一构建。然而，随着最后一块拼图的嵌入，我内心的激情似乎也随之沉寂，博客成了一片无人问津的荒芜之地，偶尔的更新，难以掩盖那日渐稀疏的文章。这一切，与我初衷中的繁花似锦大相径庭，我本应是那位用文字构建世界的匠人，而非仅仅徘徊在搭建的门槛之外。</p><p>在这一段探索的旅程中，我也曾更换过多数的域名，总幻想着下一个能够更加悦耳动听，吸引更多的目光。然而，我似乎忽略了一个至关重要的点：吸引灵魂深处的，从来不是那表面的华丽，而是蕴含于文字之中的深邃与灵动。</p><p>而现在，我将要重新拾起那颗曾经的赤忱之心，回归到那个从前纯粹但充满期望的梦想中去，沿着年少时心中那条鲜明而坚定的路，继续坚定不移地前行。不再让迷茫和彷徨阻挡我向前的脚步，再次踏上追梦之旅。</p>]]></content>
    
    
    <summary type="html">2022年，我对博客的热情诞生并逐步尝试搭建，最终选择了 Hexo 框架和 Volantis 主题。几个月的努力后，我在同年10月完成了博客的搭建。然而，随着搭建的完成，我的热情却逐渐减退，博客更新变得稀少。而今，我将重拾初心，专注于内容创作。</summary>
    
    
    
    <category term="随笔" scheme="https://vayfou.cn/categories/%E9%9A%8F%E7%AC%94/"/>
    
    
    <category term="Essay" scheme="https://vayfou.cn/tags/Essay/"/>
    
  </entry>
  
  <entry>
    <title>你好2023</title>
    <link href="https://vayfou.cn/1006cd9b/"/>
    <id>https://vayfou.cn/1006cd9b/</id>
    <published>2023-01-01T12:55:38.000Z</published>
    <updated>2023-04-09T03:19:10.000Z</updated>
    
    <content type="html"><![CDATA[<p>2022年已经过去，2023年也已经到来。</p><p>时间告诉我，无理取闹的年纪已经过去，该努力了。</p><p>希望多年以后，都会如我们所愿。</p>]]></content>
    
    
    <summary type="html">对2022年的回顾和2023年的展望，2022年已经过去，2023年也已经到来，现在是该努力的时候了，希望未来可以如偿所愿，不负往昔韶华。</summary>
    
    
    
    <category term="随笔" scheme="https://vayfou.cn/categories/%E9%9A%8F%E7%AC%94/"/>
    
    
    <category term="Essay" scheme="https://vayfou.cn/tags/Essay/"/>
    
  </entry>
  
</feed>
