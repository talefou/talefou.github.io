# https://decapcms.org/docs/configuration-options/
backend:
  name: github
  repo: TaleFou/blog
  branch: main
  identity: TaleFou
  auth_type: oauth
  client_id: Ov23liYcBtQHjGvMx3jJ
  client_secret: 622f0c3c34bc51ac48e2b948c7441545c6c735ad
  base_url: https://api.github.com
media_folder: "source/assets/img"
public_folder: "/img"
site_url: "https://vayfou.cn"
logo_url: "/assets/img/vayfou.png"
locale: "zh_Hans"
common_col_conf: &common_col_conf
  create: true
  slug: "{{fields.filename}}"
  sortable_fields:
    - "commit_date"
    - "title"
    - "date"
    - "updated"
  # https://decapcms.org/docs/widgets/
  fields:
    - label: "文件名"
      name: "filename"
      widget: "string"
    - label: "标题"
      name: "title"
      widget: "string"
    - label: "发表日期"
      name: "date"
      widget: "datetime"
      format: "YYYY-MM-DD HH:mm:ss"
      date_format: "YYYY-MM-DD"
      time_format: "HH:mm:ss"
    - label: "更新日期"
      name: "updated"
      widget: "datetime"
      format: "YYYY-MM-DD HH:mm:ss"
      date_format: "YYYY-MM-DD"
      time_format: "HH:mm:ss"
      required: false
    - label: "封面"
      name: "cover"
      widget: "image"
      required: false
    - label: "标签"
      name: "tags"
      widget: "select"
      multiple: true
      required: false
      options:
        - "Blog"
        - "CloudFlare"
        - "Essay"
        - "GitHub"
        - "Hexo"
    - label: "分类"
      name: "categories"
      widget: "select"
      multiple: true
      required: false
      options:
        - "博客"
        - "随笔"
        - "教程"
        - "资料"
    - label: "正文"
      name: "body"
      widget: "markdown"
    - label: "评论"
      name: "comments"
      widget: "boolean"
      default: true
collections:
  - name: "posts"
    label: "文章"
    folder: "source/_posts"
    preview_path: "{{abbrlink}}/"
    <<: *common_col_conf
  - name: "drafts"
    label: "草稿"
    folder: "source/_drafts"
    preview_path: "drafts/{{abbrlink}}/"
    <<: *common_col_conf
  - name: "pages"
    label: "页面"
    files:
      - name: "friends"
        label: "友链"
        file: "source/page/friends/index.md"
        preview_path: "page/friends/"
        <<: *common_col_conf
      - name: "about"
        label: "关于"
        file: "source/page/about/index.md"
        preview_path: "page/about/"
        <<: *common_col_conf